{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.40285cf202a2ea083c3c.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Layout from '../components/Layout';\r\nimport fetch from 'isomorphic-unfetch';\r\nimport { useState, useEffect } from 'react';\r\n//import Axios from 'axios';\r\n\r\nconst Index = (props) => {\r\n    let [totalHits, currentPage, totalPages, foods] = \"\";\r\n    //const {totalHits, currentPage, totalPages, foods} = props.data || \"\";\r\n    const [inputQuery, setInputQuery] = useState(\"cheddar cheese\");\r\n    console.log(\"input Query: \", inputQuery);\r\n    const [isSearch, setSearch] = useState(false);\r\n\r\n    useEffect(() =>{\r\n        const fetchData = async () =>{\r\n            console.log(\"I am in fetchData\");\r\n            const URL = `https://api.nal.usda.gov/fdc/v1/foods/search?api_key=GiSVQi6vc4bkITDFpqevACfryGTKgtKeRaE6FR98&query=${inputQuery}`;\r\n            const resp = await fetch(URL);\r\n            const data = await resp.json();\r\n            ({totalHits, currentPage, totalPages, foods} = await data);\r\n            //console.log(\"data from useEffect: \", data);\r\n            // const [totalHits, setTotalHits] = useState({totalHits});\r\n            // const [currentPage, setCurrentPage] = useState({currentPage});\r\n            // const [totalPages, setTotalPages] = useState({totalPages});\r\n            // const [foods, setFoods] = useState({foods});\r\n            setSearch(false);\r\n        }\r\n        fetchData();\r\n    }, [isSearch]);\r\n\r\n    // useEffect(() =>{\r\n    //     setSearch(true);\r\n    // }, [setInputQuery]);\r\n\r\n    // useEffect(() => {\r\n    //     setSearch(false);\r\n    // }, []);\r\n\r\n    return ( <Layout>\r\n        <h1>Hello 21Menus</h1>\r\n        <p>Total Hits: {totalHits}</p>\r\n        <p>currentPage: {currentPage}</p>\r\n        <p>totalPages: {totalPages}</p>\r\n        <input type=\"text\" />\r\n        <button onClick={() => setSearch(true)}>Search</button>\r\n        <ul>\r\n        {\r\n            foods && foods.map(food =><li key={food.fdcId}>{food.fdcId} - {food.brandOwner}</li>)\r\n        }\r\n        </ul>\r\n\r\n        </Layout>);\r\n}\r\n\r\n// Index.getInitialProps = async () => {\r\n//     const URL = `https://api.nal.usda.gov/fdc/v1/foods/search?api_key=GiSVQi6vc4bkITDFpqevACfryGTKgtKeRaE6FR98&query=Cheddar%20Cheese`;\r\n//     const response = await fetch(URL);\r\n//     const data = await response.json();\r\n//     return {\r\n//         data: data\r\n//     }\r\n\r\n// }\r\nexport default Index;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AAGA;AACA;AALA;AAAA;AAAA;AACA;AAMA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AACA;AADA;AAIA;AAJA;AAAA;AACA;AADA;AAAA;AAKA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAYA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;;;;A","sourceRoot":""}